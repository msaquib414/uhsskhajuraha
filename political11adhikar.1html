<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>भारतीय संविधान में अधिकार - प्रश्नोत्तरी</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+Devanagari:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans Devanagari', 'Inter', sans-serif;
        }
        /* Custom styles for better aesthetics */
        .quiz-option:hover {
            background-color: #f0f9ff; /* light blue on hover */
        }
        .quiz-option input:checked + label {
            background-color: #dbeafe; /* blue-100 when selected */
            border-color: #3b82f6; /* blue-500 border when selected */
        }
        .correct-answer {
            color: #16a34a; /* green-600 */
            font-weight: bold;
        }
        .incorrect-answer {
            color: #dc2626; /* red-600 */
            text-decoration: line-through;
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800" oncontextmenu="return false;">

    <!-- Name Input Modal -->
    <div id="nameModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50">
        <div class="bg-white p-8 rounded-xl shadow-2xl w-full max-w-md text-center">
            <h2 class="text-2xl font-bold mb-4">प्रश्नोत्तरी में आपका स्वागत है!</h2>
            <p class="text-slate-600 mb-6">शुरू करने के लिए कृपया अपना नाम दर्ज करें।</p>
            <input type="text" id="studentName" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="अपना पूरा नाम लिखें">
            <button id="startQuizBtn" class="w-full mt-6 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-300">क्विज शुरू करें</button>
        </div>
    </div>

    <!-- Main Quiz Container -->
    <div id="quizContainer" class="container mx-auto p-4 md:p-8 hidden">
        
        <!-- Header with Timer -->
        <header class="bg-white shadow-md rounded-xl p-4 mb-8 sticky top-4 z-10">
            <h1 class="text-2xl md:text-3xl font-bold text-center text-blue-700">भारतीय संविधान में अधिकार</h1>
            <div id="timer" class="mt-2 text-center text-2xl font-bold bg-slate-200 text-slate-800 py-2 px-4 rounded-lg w-48 mx-auto">25:00</div>
        </header>

        <!-- Quiz Form -->
        <form id="quizForm" class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
            <div id="questionsContainer" class="space-y-8">
                <!-- Questions will be dynamically inserted here -->
            </div>
            <div class="mt-10 text-center">
                <button type="submit" id="submitBtn" class="bg-green-600 text-white font-bold py-3 px-12 rounded-lg text-lg hover:bg-green-700 transition-colors duration-300 disabled:bg-slate-400 disabled:cursor-not-allowed">सबमिट करें</button>
            </div>
        </form>

        <!-- Result Display -->
        <div id="resultContainer" class="hidden mt-8 bg-white p-8 rounded-xl shadow-lg text-center">
            <h2 class="text-3xl font-bold mb-4">आपका परिणाम</h2>
            <p id="score" class="text-5xl font-bold text-blue-600"></p>
            <p class="text-slate-600 mt-2">25 में से</p>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // DOM Elements
            const nameModal = document.getElementById('nameModal');
            const studentNameInput = document.getElementById('studentName');
            const startQuizBtn = document.getElementById('startQuizBtn');
            const quizContainer = document.getElementById('quizContainer');
            const questionsContainer = document.getElementById('questionsContainer');
            const quizForm = document.getElementById('quizForm');
            const submitBtn = document.getElementById('submitBtn');
            const resultContainer = document.getElementById('resultContainer');
            const scoreElement = document.getElementById('score');
            const timerElement = document.getElementById('timer');

            let studentName = '';
            let timerInterval;
            let timeRemaining = 25 * 60; // 25 minutes in seconds

            // Quiz Questions Data
            const quizData = [
                { question: "1. भारतीय संविधान का कौन सा भाग मौलिक अधिकारों से संबंधित है?", options: ["भाग I", "भाग II", "भाग III", "भाग IV"], answer: "C" },
                { question: "2. संपत्ति का अधिकार किस संशोधन द्वारा मौलिक अधिकारों से हटा दिया गया?", options: ["42वां संशोधन", "44वां संशोधन", "24वां संशोधन", "52वां संशोधन"], answer: "B" },
                { question: "3. समानता का अधिकार किस अनुच्छेद समूह में वर्णित है?", options: ["अनुच्छेद 14-18", "अनुच्छेद 19-22", "अनुच्छेद 23-24", "अनुच्छेद 25-28"], answer: "A" },
                { question: "4. अस्पृश्यता का अंत किस अनुच्छेद के तहत किया गया है?", options: ["अनुच्छेद 15", "अनुच्छेद 16", "अनुच्छेद 18", "अनुच्छेद 17"], answer: "D" },
                { question: "5. भारतीय संविधान में वर्तमान में कितने मौलिक कर्तव्य हैं?", options: ["10", "11", "12", "9"], answer: "B" },
                { question: "6. 'बंदी प्रत्यक्षीकरण' (Habeas Corpus) रिट का उद्देश्य क्या है?", options: ["व्यक्ति को न्यायालय के समक्ष प्रस्तुत करना", "किसी अधिकारी को कर्तव्य पालन का आदेश देना", "अधीनस्थ न्यायालय के वाद को ऊपर मंगाना", "किसी पद पर व्यक्ति के दावे की जांच करना"], answer: "A" },
                { question: "7. शिक्षा का अधिकार किस अनुच्छेद के अंतर्गत एक मौलिक अधिकार है?", options: ["अनुच्छेद 19", "अनुच्छेद 20", "अनुच्छेद 21-A", "अनुच्छेद 22"], answer: "C" },
                { question: "8. कौन सा अधिकार आपातकाल के दौरान भी निलंबित नहीं किया जा सकता है?", options: ["भाषण की स्वतंत्रता", "संघ बनाने की स्वतंत्रता", "समानता का अधिकार", "जीवन और व्यक्तिगत स्वतंत्रता का अधिकार"], answer: "D" },
                { question: "9. मौलिक अधिकारों का संरक्षक कौन है?", options: ["सर्वोच्च न्यायालय", "संसद", "राष्ट्रपति", "प्रधानमंत्री"], answer: "A" },
                { question: "10. 'शोषण के विरुद्ध अधिकार' में क्या शामिल नहीं है?", options: ["मानव व्यापार का निषेध", "बंधुआ मजदूरी का निषेध", "अपनी पसंद का धर्म मानने की स्वतंत्रता", "14 वर्ष से कम आयु के बच्चों से कारखानों में काम कराने पर रोक"], answer: "C" },
                { question: "11. भारतीय संविधान के किस अनुच्छेद में 'कानून के समक्ष समानता' का उल्लेख है?", options: ["अनुच्छेद 13", "अनुच्छेद 14", "अनुच्छेद 15", "अनुच्छेद 16"], answer: "B" },
                { question: "12. धार्मिक स्वतंत्रता का अधिकार किस अनुच्छेद समूह में आता है?", options: ["अनुच्छेद 14-18", "अनुच्छेद 19-22", "अनुच्छेद 23-24", "अनुच्छेद 25-28"], answer: "D" },
                { question: "13. डॉ. बी. आर. अंबेडकर ने किस मौलिक अधिकार को 'संविधान का हृदय और आत्मा' कहा?", options: ["संवैधानिक उपचारों का अधिकार", "समानता का अधिकार", "स्वतंत्रता का अधिकार", "धर्म की स्वतंत्रता का अधिकार"], answer: "A" },
                { question: "14. मौलिक कर्तव्य किस देश के संविधान से लिए गए हैं?", options: ["अमेरिका", "ब्रिटेन", "सोवियत संघ (रूस)", "कनाडा"], answer: "C" },
                { question: "15. राष्ट्रीय मानवाधिकार आयोग की स्थापना कब हुई?", options: ["1990", "1993", "1995", "2000"], answer: "B" },
                { question: "16. निम्नलिखित में से कौन सा एक मौलिक अधिकार नहीं है?", options: ["समानता का अधिकार", "स्वतंत्रता का अधिकार", "शोषण के विरुद्ध अधिकार", "संपत्ति का अधिकार"], answer: "D" },
                { question: "17. 'प्रेस की स्वतंत्रता' किस मौलिक अधिकार में निहित है?", options: ["भाषण और अभिव्यक्ति की स्वतंत्रता", "कानून के समक्ष समानता", "जीवन का अधिकार", "संघ बनाने की स्वतंत्रता"], answer: "A" },
                { question: "18. 6 से 14 वर्ष की आयु के बच्चों को निःशुल्क और अनिवार्य शिक्षा का अधिकार किस संशोधन द्वारा जोड़ा गया?", options: ["42वां संशोधन", "86वां संशोधन", "44वां संशोधन", "91वां संशोधन"], answer: "B" },
                { question: "19. सूचना का अधिकार अधिनियम कब पारित हुआ?", options: ["2001", "2003", "2005", "2009"], answer: "C" },
                { question: "20. कौन सी रिट (Writ) किसी अवैध रूप से हिरासत में लिए गए व्यक्ति की रिहाई के लिए जारी की जाती है?", options: ["बंदी प्रत्यक्षीकरण", "परमादेश", "अधिकार पृच्छा", "उत्प्रेषण"], answer: "A" },
                { question: "21. 'उपाधियों का अंत' किस मौलिक अधिकार का हिस्सा है?", options: ["स्वतंत्रता का अधिकार", "शोषण के विरुद्ध अधिकार", "संवैधानिक उपचारों का अधिकार", "समानता का अधिकार"], answer: "D" },
                { question: "22. मौलिक अधिकारों में संशोधन करने के लिए कौन सक्षम है?", options: ["राष्ट्रपति", "संसद", "लोकसभा", "सर्वोच्च न्यायालय"], answer: "B" },
                { question: "23. अल्पसंख्यकों के हितों का संरक्षण किस अनुच्छेद में है?", options: ["अनुच्छेद 21", "अनुच्छेद 24", "अनुच्छेद 29", "अनुच्छेद 32"], answer: "C" },
                { question: "24. 'परमादेश' (Mandamus) रिट का क्या अर्थ है?", options: ["किस अधिकार से", "हम सूचित करते हैं", "शरीर प्रस्तुत करो", "हम आदेश देते हैं"], answer: "D" },
                { question: "25. मानव के दुर्व्यापार और बलात् श्रम का प्रतिषेध किस अनुच्छेद में है?", options: ["अनुच्छेद 23", "अनुच्छेद 24", "अनुच्छेद 25", "अनुच्छेद 26"], answer: "A" }
            ];

            // Function to start the quiz
            function startQuiz() {
                studentName = studentNameInput.value.trim();
                if (studentName === '') {
                    alert('कृपया अपना नाम दर्ज करें।');
                    return;
                }
                nameModal.classList.add('hidden');
                quizContainer.classList.remove('hidden');
                loadQuestions();
                startTimer();
            }

            // Function to load questions into the form
            function loadQuestions() {
                let questionsHTML = '';
                const optionLetters = ['A', 'B', 'C', 'D'];
                quizData.forEach((q, index) => {
                    questionsHTML += `
                        <div id="question-${index}">
                            <p class="text-lg font-semibold mb-4">${q.question}</p>
                            <div class="space-y-3">
                                ${q.options.map((option, i) => `
                                    <div class="quiz-option border border-slate-300 rounded-lg transition-colors duration-200">
                                        <input type="radio" id="q${index}_${optionLetters[i]}" name="question${index}" value="${optionLetters[i]}" class="hidden">
                                        <label for="q${index}_${optionLetters[i]}" class="block w-full p-3 cursor-pointer rounded-lg">
                                            <span class="font-bold mr-3">${optionLetters[i]}.</span> ${option}
                                        </label>
                                    </div>
                                `).join('')}
                            </div>
                            <div id="answer-feedback-${index}" class="mt-3 text-md"></div>
                        </div>
                    `;
                });
                questionsContainer.innerHTML = questionsHTML;
            }

            // Function to start the timer
            function startTimer() {
                timerInterval = setInterval(() => {
                    timeRemaining--;
                    const minutes = Math.floor(timeRemaining / 60);
                    const seconds = timeRemaining % 60;
                    timerElement.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                    if (timeRemaining <= 0) {
                        clearInterval(timerInterval);
                        timerElement.textContent = "समय समाप्त!";
                        timerElement.classList.add('text-red-600');
                        submitQuiz();
                    }
                }, 1000);
            }

            // Function to handle quiz submission
            function submitQuiz() {
                clearInterval(timerInterval); // Stop the timer
                let score = 0;
                
                // Disable all inputs and the submit button
                submitBtn.disabled = true;
                const radioButtons = document.querySelectorAll('input[type="radio"]');
                radioButtons.forEach(radio => radio.disabled = true);

                // Calculate score and show feedback
                quizData.forEach((q, index) => {
                    const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                    const feedbackElement = document.getElementById(`answer-feedback-${index}`);
                    const correctLabel = document.querySelector(`label[for="q${index}_${q.answer}"]`);
                    
                    if (selectedOption) {
                        const selectedLabel = document.querySelector(`label[for="${selectedOption.id}"]`);
                        if (selectedOption.value === q.answer) {
                            score++;
                            selectedLabel.classList.add('bg-green-100', 'border-green-500');
                        } else {
                            selectedLabel.classList.add('bg-red-100', 'border-red-500');
                            correctLabel.classList.add('bg-green-100', 'border-green-500');
                        }
                    } else {
                        // If no answer was selected, just highlight the correct one
                        correctLabel.classList.add('bg-green-100', 'border-green-500');
                    }
                    
                    // Display the correct answer text
                    const correctAnswerText = q.options[['A', 'B', 'C', 'D'].indexOf(q.answer)];
                    feedbackElement.innerHTML = `<span class="correct-answer">सही उत्तर: ${q.answer}. ${correctAnswerText}</span>`;
                });

                // Display final score
                scoreElement.textContent = score;
                resultContainer.classList.remove('hidden');
                resultContainer.scrollIntoView({ behavior: 'smooth' });

                // Generate and download CSV
                generateCSV(studentName, score);
            }

            // Function to generate and download CSV
            function generateCSV(name, score) {
                const csvContent = "data:text/csv;charset=utf-8," 
                    + "Student Name,Marks\n" 
                    + `${name},${score}`;
                
                const encodedUri = encodeURI(csvContent);
                const link = document.createElement("a");
                link.setAttribute("href", encodedUri);
                link.setAttribute("download", "result.csv");
                document.body.appendChild(link); // Required for FF
                link.click();
                document.body.removeChild(link);
            }

            // Event Listeners
            startQuizBtn.addEventListener('click', startQuiz);
            studentNameInput.addEventListener('keyup', (event) => {
                if (event.key === 'Enter') {
                    startQuiz();
                }
            });
            quizForm.addEventListener('submit', (e) => {
                e.preventDefault();
                submitQuiz();
            });
        });
    </script>
</body>
</html>
