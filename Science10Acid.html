<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>कक्षा 10 विज्ञान: अम्ल, क्षारक एवं लवण क्विज़</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;700&display=swap');
        
        body {
            font-family: 'Noto Sans Devanagari', sans-serif;
            user-select: none; /* Prevent text selection */
            -webkit-user-select: none;
        }

        /* Styles for LaTeX formulas (for proper display) */
        .latex-formula {
            font-family: 'Times New Roman', serif;
            font-size: 1.1em;
            display: inline-block;
            margin: 0 2px;
        }

        /* Styles for result feedback */
        .correct-answer-box {
            background-color: #dcfce7; /* green-100 */
            border: 1px solid #16a34a; /* green-600 */
            color: #14532d; /* green-900 */
            padding: 12px;
            border-radius: 8px;
            margin-top: 12px;
            font-weight: 600;
        }
        
        .correct-answer-text::before {
            content: "✓";
            margin-right: 8px;
            font-weight: bold;
            font-size: 1.2em;
        }

        .user-correct {
            background-color: #dcfce7 !important;
            border-color: #22c55e !important;
            position: relative;
        }

        .user-wrong {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
        }

        /* Sticky Timer */
        .sticky-timer {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 50;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
    </style>
</head>
<!-- Disable right-click context menu -->
<body class="bg-gray-100 min-h-screen pb-16" oncontextmenu="return false;">

    <!-- Name Modal -->
    <div id="nameModal" class="fixed inset-0 bg-gray-900 bg-opacity-90 flex items-center justify-center z-[60] backdrop-blur-sm px-4">
        <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md transform transition-all scale-100">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-2">विज्ञान क्विज़</h2>
            <p class="text-center text-gray-600 mb-6 font-medium">अध्याय: अम्ल, क्षारक एवं लवण</p>
            
            <div class="space-y-5">
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">विद्यार्थी का नाम दर्ज करें</label>
                    <input type="text" id="studentName" class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:ring-4 focus:ring-indigo-200 focus:border-indigo-600 outline-none transition text-lg" placeholder="जैसे: अंजली शर्मा">
                    <p id="nameError" class="text-red-500 text-sm mt-2 hidden flex items-center"><span class="mr-1">⚠</span> कृपया नाम लिखें।</p>
                </div>
                <button onclick="startQuiz()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl transition duration-200 shadow-lg text-lg tracking-wide">
                    क्विज़ शुरू करें
                </button>
            </div>
        </div>
    </div>

    <!-- Timer Display -->
    <div id="timerDisplay" class="sticky-timer hidden bg-white px-8 py-3 rounded-b-xl border-t-4 border-indigo-600 text-2xl font-bold text-indigo-800 min-w-[220px] text-center shadow-lg">
        25:00
    </div>

    <!-- Main Quiz Container -->
    <div id="quizContainer" class="hidden container mx-auto px-4 pt-28 max-w-4xl">
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
            <!-- Header -->
            <div class="bg-indigo-700 p-8 text-white text-center">
                <h1 class="text-3xl md:text-4xl font-bold mb-3">अम्ल, क्षारक एवं लवण</h1>
                <p class="opacity-90 text-xl font-light">कक्षा 10 | कुल प्रश्न: 40</p>
            </div>

            <!-- Score Section (Hidden initially) -->
            <div id="resultHeader" class="hidden bg-green-50 p-8 text-center border-b border-green-200">
                <h3 class="text-4xl font-bold text-green-800 mb-2" id="scoreText"></h3>
                <p class="text-green-700 font-medium text-lg">परिणाम फ़ाइल (CSV) डाउनलोड हो गई है। नीचे अपने उत्तर और सही जवाब देखें।</p>
            </div>

            <!-- Questions Form -->
            <form id="quizForm" class="p-6 md:p-12 space-y-12">
                <!-- Questions will be injected here via JS -->
            </form>

            <!-- Submit Button Footer -->
            <div class="p-10 bg-gray-50 border-t border-gray-200 text-center">
                <button id="submitBtn" onclick="submitQuiz(event)" class="bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-20 rounded-full text-xl shadow-xl transform transition hover:-translate-y-1 hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">
                    उत्तर जमा करें (Submit)
                </button>
            </div>
        </div>
    </div>

    <script>
        // Questions Data (A:10, B:10, C:10, D:10)
        const questions = [
            // Option A Correct (10 Questions)
            { q: "1. प्रबल अम्ल (Strong Acid) है:", options: { a: "$$ \mathrm{HCl} $$", b: "$$ \mathrm{H}_2 \mathrm{CO}_3 $$", c: "$$ \mathrm{H}_3 \mathrm{PO}_4 $$", d: "$$ \mathrm{CH}_3 \mathrm{COOH} $$" }, correct: "a" },
            { q: "2. लिटमस को नीला कर देता है:", options: { a: "क्षारक (Base)", b: "अम्ल (Acid)", c: "लवण (Salt)", d: "सूचक (Indicator)" }, correct: "a" },
            { q: "3. जलीय विलयन में $$ \mathrm{OH}^- $$ आयन कौन देता है?", options: { a: "क्षारक", b: "अम्ल", c: "उदासीन पदार्थ", d: "नमक" }, correct: "a" },
            { q: "4. धातुओं के ऑक्साइड प्रायः कैसे होते हैं?", options: { a: "क्षारीय (Basic)", b: "अम्लीय (Acidic)", c: "उदासीन", d: "जल में घुलनशील" }, correct: "a" },
            { q: "5. बेकिंग सोडा का रासायनिक सूत्र है:", options: { a: "$$ \mathrm{NaHCO}_3 $$", b: "$$ \mathrm{Na}_2 \mathrm{CO}_3 \cdot 10 \mathrm{H}_2 \mathrm{O} $$", c: "$$ \mathrm{CaCO}_3 $$", d: "$$ \mathrm{NaOH} $$" }, correct: "a" },
            { q: "6. एक दुर्बल अम्ल (Weak Acid) है:", options: { a: "एसेटिक अम्ल", b: "सल्फ्यूरिक अम्ल", c: "नाइट्रिक अम्ल", d: "हाइड्रोक्लोरिक अम्ल" }, correct: "a" },
            { q: "7. विरंजक चूर्ण (Bleaching Powder) का रासायनिक नाम क्या है?", options: { a: "कैल्शियम ऑक्सीक्लोराइड", b: "सोडियम क्लोराइड", c: "सोडियम कार्बोनेट", d: "कैल्शियम हाइड्रोक्साइड" }, correct: "a" },
            { q: "8. शुद्ध जल का pH मान कितना होता है?", options: { a: "$$ 7 $$", b: "$$ 0 $$", c: "$$ 14 $$", d: "$$ 1 $$" }, correct: "a" },
            { q: "9. चींटी के डंक में कौन-सा अम्ल पाया जाता है?", options: { a: "मेथेनोइक अम्ल", b: "टार्टरिक अम्ल", c: "सिट्रिक अम्ल", d: "लैक्टिक अम्ल" }, correct: "a" },
            { q: "10. 'एंटासिड' का मुख्य घटक है:", options: { a: "दुर्बल क्षारक", b: "प्रबल अम्ल", c: "दुर्बल अम्ल", d: "उदासीन लवण" }, correct: "a" },

            // Option B Correct (10 Questions)
            { q: "11. नींबू के रस का pH मान लगभग होता है:", options: { a: "$$ 7 $$ से अधिक", b: "$$ 2.2 $$", c: "$$ 10 $$", d: "$$ 7 $$" }, correct: "b" },
            { q: "12. क्षारक का स्वाद कैसा होता है?", options: { a: "खट्टा", b: "कड़वा (तीखा)", c: "नमकीन", d: "मीठा" }, correct: "b" },
            { q: "13. लवण बनाने के लिए, अम्ल और क्षारक की अभिक्रिया को क्या कहते हैं?", options: { a: "अपघटन", b: "उदासीनीकरण", c: "ऑक्सीकरण", d: "अवक्षेपण" }, correct: "b" },
            { q: "14. जिप्सम का रासायनिक सूत्र क्या है?", options: { a: "$$ \mathrm{CaCO}_3 $$", b: "$$ \mathrm{CaSO}_4 \cdot 2 \mathrm{H}_2 \mathrm{O} $$", c: "$$ \mathrm{CaSO}_4 \cdot \frac{1}{2} \mathrm{H}_2 \mathrm{O} $$", d: "$$ \mathrm{MgO} $$" }, correct: "b" },
            { q: "15. मेथिल ऑरेंज सूचक अम्लीय माध्यम में कौन-सा रंग देता है?", options: { a: "पीला", b: "लाल", c: "हरा", d: "गुलाबी" }, correct: "b" },
            { q: "16. दांतों के इनेमल (Enamel) का रासायनिक नाम क्या है?", options: { a: "कैल्शियम कार्बोनेट", b: "कैल्शियम फॉस्फेट", c: "कैल्शियम सल्फेट", d: "सोडियम बाइकार्बोनेट" }, correct: "b" },
            { q: "17. किसी विलयन का pH मान $$ 5 $$ है, यह कैसा विलयन है?", options: { a: "प्रबल क्षारीय", b: "दुर्बल अम्लीय", c: "उदासीन", d: "दुर्बल क्षारीय" }, correct: "b" },
            { q: "18. 'धावन सोडा' का रासायनिक सूत्र क्या है?", options: { a: "$$ \mathrm{NaHCO}_3 $$", b: "$$ \mathrm{Na}_2 \mathrm{CO}_3 \cdot 10 \mathrm{H}_2 \mathrm{O} $$", c: "$$ \mathrm{NaCl} $$", d: "$$ \mathrm{CaSO}_4 $$" }, correct: "b" },
            { q: "19. अम्लीय वर्षा (Acid Rain) का pH मान होता है:", options: { a: "$$ 7.0 $$", b: "$$ 5.6 $$ से कम", c: "$$ 7.5 $$", d: "$$ 1.0 $$" }, correct: "b" },
            { q: "20. जब अम्ल धातु कार्बोनेट से अभिक्रिया करता है तो कौन-सी गैस निकलती है?", options: { a: "हाइड्रोजन ($$ \mathrm{H}_2 $$)", b: "कार्बन डाइऑक्साइड ($$ \mathrm{CO}_2 $$)", c: "ऑक्सीजन ($$ \mathrm{O}_2 $$)", d: "नाइट्रोजन ($$ \mathrm{N}_2 $$)" }, correct: "b" },

            // Option C Correct (10 Questions)
            { q: "21. उस अभिक्रिया का नाम जिसमें अम्ल और क्षारक क्रिया करके लवण और जल बनाते हैं:", options: { a: "अवक्षेपण", b: "ऑक्सीकरण", c: "उदासीनीकरण", d: "अपचयन" }, correct: "c" },
            { q: "22. pH स्केल का आविष्कार किसने किया था?", options: { a: "न्यूटन", b: "मेंडलीफ", c: "सोरेन्सेन", d: "आइंस्टीन" }, correct: "c" },
            { q: "23. प्रबल क्षारक (Strong Base) है:", options: { a: "$$ \mathrm{NH}_4 \mathrm{OH} $$", b: "$$ \mathrm{Mg}(\mathrm{OH})_2 $$", c: "$$ \mathrm{KOH} $$", d: "$$ \mathrm{Ca}(\mathrm{OH})_2 $$" }, correct: "c" },
            { q: "24. टमाटर में कौन-सा अम्ल पाया जाता है?", options: { a: "टार्टरिक अम्ल", b: "सिट्रिक अम्ल", c: "ऑक्सालिक अम्ल", d: "लैक्टिक अम्ल" }, correct: "c" },
            { q: "25. अम्लों को तनु (Dilute) करते समय, अम्ल को जल में मिलाना चाहिए या जल को अम्ल में?", options: { a: "जल को अम्ल में", b: "पहले अम्ल फिर जल", c: "अम्ल को जल में", d: "दोनों तरीके सही हैं" }, correct: "c" },
            { q: "26. प्लास्टर ऑफ पेरिस का सूत्र क्या है?", options: { a: "$$ \mathrm{CaCO}_3 $$", b: "$$ \mathrm{CaSO}_4 \cdot 2 \mathrm{H}_2 \mathrm{O} $$", c: "$$ \mathrm{CaSO}_4 \cdot \frac{1}{2} \mathrm{H}_2 \mathrm{O} $$", d: "$$ \mathrm{Mg}(\mathrm{OH})_2 $$" }, correct: "c" },
            { q: "27. सोडियम हाइड्रोजन कार्बोनेट ($$ \mathrm{NaHCO}_3 $$) का सामान्य नाम क्या है?", options: { a: "धावन सोडा", b: "विरंजक चूर्ण", c: "बेकिंग सोडा", d: "प्लास्टर ऑफ पेरिस" }, correct: "c" },
            { q: "28. फेनोल्फथेलिन क्षारीय माध्यम में कौन-सा रंग देता है?", options: { a: "रंगहीन", b: "पीला", c: "गुलाबी", d: "लाल" }, correct: "c" },
            { q: "29. अम्ल धातु से अभिक्रिया करके कौन-सी गैस उत्पन्न करते हैं?", options: { a: "ऑक्सीजन", b: "कार्बन डाइऑक्साइड", c: "हाइड्रोजन", d: "नाइट्रोजन" }, correct: "c" },
            { q: "30. अपच (Indigestion) के इलाज के लिए किस औषधि का उपयोग होता है?", options: { a: "एंटीबायोटिक", b: "एनाल्जेसिक", c: "एंटासिड", d: "एंटीसेप्टिक" }, correct: "c" },

            // Option D Correct (10 Questions)
            { q: "31. दही में कौन-सा अम्ल पाया जाता है?", options: { a: "सिट्रिक अम्ल", b: "एसेटिक अम्ल", c: "मेथेनोइक अम्ल", d: "लैक्टिक अम्ल" }, correct: "d" },
            { q: "32. विरंजक चूर्ण बनाने के लिए किस पदार्थ का उपयोग किया जाता है?", options: { a: "जिप्सम", b: "कॉस्टिक सोडा", c: "धावन सोडा", d: "बुझा हुआ चूना ($$ \mathrm{Ca}(\mathrm{OH})_2 $$)" }, correct: "d" },
            { q: "33. निम्न में से कौन-सा उदासीन लवण (Neutral Salt) है?", options: { a: "$$ \mathrm{CH}_3 \mathrm{COONa} $$", b: "$$ \mathrm{NH}_4 \mathrm{Cl} $$", c: "$$ \mathrm{Na}_2 \mathrm{CO}_3 $$", d: "$$ \mathrm{NaCl} $$" }, correct: "d" },
            { q: "34. एक घोल लाल लिटमस को नीला कर देता है। इसका pH मान संभवतः क्या होगा?", options: { a: "$$ 1 $$", b: "$$ 4 $$", c: "$$ 6 $$", d: "$$ 10 $$" }, correct: "d" },
            { q: "35. जब $$ \mathrm{CO}_2 $$ गैस को चूने के पानी (Lime Water) में प्रवाहित किया जाता है, तो यह दूधिया क्यों हो जाता है?", options: { a: "$$ \mathrm{CaCO}_3 $$ बनने के कारण", b: "$$ \mathrm{Ca}(\mathrm{OH})_2 $$ बनने के कारण", c: "$$ \mathrm{H}_2 \mathrm{O} $$ बनने के कारण", d: "कैल्शियम कार्बोनेट ($$ \mathrm{CaCO}_3 $$) के अवक्षेप के कारण" }, correct: "d" },
            { q: "36. प्लास्टर ऑफ पेरिस को किसके साथ मिलाकर जिप्सम बनाया जाता है?", options: { a: "अम्ल", b: "क्षारक", c: "नमक", d: "जल" }, correct: "d" },
            { q: "37. गंधीय सूचक (Olfactory Indicator) का उदाहरण है:", options: { a: "लिटमस", b: "मेथिल ऑरेंज", c: "फेनोल्फथेलिन", d: "प्याज का रस / वनीला" }, correct: "d" },
            { q: "38. वह पदार्थ जो जल में घुलकर $$ \mathrm{H}^+ $$ आयन देता है, कहलाता है:", options: { a: "क्षारक", b: "लवण", c: "सूचक", d: "अम्ल" }, correct: "d" },
            { q: "39. टूथपेस्ट में प्रयुक्त अधिकांश पदार्थ होते हैं:", options: { a: "अम्लीय", b: "उदासीन", c: "दुर्बल अम्ल", d: "क्षारीय" }, correct: "d" },
            { q: "40. कॉपर सल्फेट के क्रिस्टल में जल के अणुओं की संख्या कितनी होती है?", options: { a: "$$ 2 $$", b: "$$ 7 $$", c: "$$ 10 $$", d: "$$ 5 $$" }, correct: "d" }
        ];

        // State variables
        let timeLeft = 25 * 60; // 25 minutes
        let timerInterval;
        let isSubmitted = false;
        let studentName = "";

        // Elements
        const quizForm = document.getElementById('quizForm');
        const timerDisplay = document.getElementById('timerDisplay');
        const submitBtn = document.getElementById('submitBtn');

        // Functions
        function startQuiz() {
            const nameInput = document.getElementById('studentName');
            if (nameInput.value.trim() === "") {
                document.getElementById('nameError').classList.remove('hidden');
                return;
            }
            studentName = nameInput.value.trim();
            document.getElementById('nameModal').classList.add('hidden');
            document.getElementById('quizContainer').classList.remove('hidden');
            timerDisplay.classList.remove('hidden');
            
            renderQuestions();
            startTimer();
        }

        function renderQuestions() {
            let html = "";
            questions.forEach((q, index) => {
                html += `
                <div class="border-2 border-gray-100 rounded-xl p-6 hover:shadow-lg transition-all bg-white" id="qbox-${index}">
                    <p class="font-bold text-gray-800 text-xl mb-4 leading-relaxed"><span class="text-indigo-600 mr-2">${index + 1}.</span> ${q.q}</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${Object.keys(q.options).map(key => `
                            <label class="flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-indigo-50 transition-colors duration-200 group" id="label-${index}-${key}">
                                <div class="relative flex items-center">
                                    <input type="radio" name="q${index}" value="${key}" class="w-5 h-5 text-indigo-600 focus:ring-indigo-500 border-gray-300">
                                </div>
                                <span class="ml-3 text-gray-700 font-medium text-lg group-hover:text-indigo-700">${key.toUpperCase()}) ${q.options[key]}</span>
                            </label>
                        `).join('')}
                    </div>
                    <div id="feedback-${index}" class="hidden"></div>
                </div>
                `;
            });
            quizForm.innerHTML = html;
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(null);
                    return;
                }
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerDisplay.innerText = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                
                if (timeLeft < 300) { // Red warning last 5 mins
                    timerDisplay.classList.add('text-red-600', 'bg-red-50', 'border-red-500');
                    timerDisplay.classList.remove('text-indigo-800', 'border-indigo-600');
                }
            }, 1000);
        }

        function submitQuiz(e) {
            if (e) e.preventDefault();
            if (isSubmitted) return;
            isSubmitted = true;
            clearInterval(timerInterval);

            // Disable button
            submitBtn.disabled = true;
            submitBtn.innerText = "जमा हो गया (Submitted)";
            submitBtn.classList.add('opacity-75', 'cursor-not-allowed');

            let score = 0;
            const formData = new FormData(quizForm);

            questions.forEach((q, index) => {
                const selected = formData.get(`q${index}`);
                const feedbackDiv = document.getElementById(`feedback-${index}`);
                
                // Disable inputs
                const inputs = document.getElementsByName(`q${index}`);
                inputs.forEach(input => input.disabled = true);

                let isCorrect = false;
                if (selected === q.correct) {
                    score++;
                    isCorrect = true;
                }

                // Show feedback text
                feedbackDiv.classList.remove('hidden');
                feedbackDiv.classList.add('correct-answer-box');
                
                // Extract and format the correct answer text
                const correctOptionText = q.options[q.correct];
                feedbackDiv.innerHTML = `<span class="correct-answer-text">सही उत्तर: <span class="uppercase ml-2">${q.correct}</span>) ${correctOptionText}</span>`;

                // Highlight Logic
                if (selected) {
                    const selectedLabel = document.getElementById(`label-${index}-${selected}`);
                    if (isCorrect) {
                        selectedLabel.classList.add('user-correct');
                    } else {
                        selectedLabel.classList.add('user-wrong');
                    }
                }
                
                // Always show green on correct answer if user missed it or wrong
                if (!isCorrect) {
                     const correctLabel = document.getElementById(`label-${index}-${q.correct}`);
                     correctLabel.classList.add('user-correct');
                }
            });

            // Show Result Header
            const resultHeader = document.getElementById('resultHeader');
            resultHeader.classList.remove('hidden');
            document.getElementById('scoreText').innerText = `${studentName}, आपका स्कोर: ${score} / 40`;
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // CSV Download
            generateCSV(studentName, score);
        }

        function generateCSV(name, score) {
            const date = new Date().toLocaleString('hi-IN');
            // Add BOM for Excel to read Hindi correctly
            const csvContent = `\uFEFFStudent Name,Score,Total Questions,Date\n"${name}",${score},40,"${date}"`;
            
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement("a");
            link.setAttribute("href", url);
            link.setAttribute("download", "result.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // --- Security Features ---

        // Prevent Right Click
        document.addEventListener('contextmenu', event => event.preventDefault());

        // Prevent typical copy and print shortcuts (Ctrl+C, Ctrl+U, Ctrl+P)
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && (e.key === 'c' || e.key === 'u' || e.key === 'p' || e.key === 'a')) {
                e.preventDefault();
            }
        });

    </script>
</body>
</html>
