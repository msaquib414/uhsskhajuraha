<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>कक्षा 10 विज्ञान: नियंत्रण एवं समन्वय क्विज़</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;700&display=swap');
        
        body {
            font-family: 'Noto Sans Devanagari', sans-serif;
            user-select: none; /* Prevent text selection */
            -webkit-user-select: none;
        }

        /* Feedback Styles */
        .correct-answer-box {
            background-color: #dcfce7; /* green-100 */
            border: 1px solid #16a34a; /* green-600 */
            color: #14532d; /* green-900 */
            padding: 12px;
            border-radius: 8px;
            margin-top: 12px;
            font-weight: 600;
        }
        
        .correct-text::before {
            content: "✓";
            margin-right: 8px;
            font-weight: bold;
            font-size: 1.2em;
        }

        .user-correct {
            background-color: #dcfce7 !important;
            border-color: #22c55e !important;
            position: relative;
        }

        .user-wrong {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
        }

        /* Sticky Timer */
        .sticky-timer {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 50;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen pb-16" oncontextmenu="return false;">

    <!-- Name Modal -->
    <div id="nameModal" class="fixed inset-0 bg-gray-900 bg-opacity-90 flex items-center justify-center z-[60] backdrop-blur-sm px-4">
        <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md transform transition-all scale-100">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-2">विज्ञान क्विज़</h2>
            <p class="text-center text-gray-600 mb-6 font-medium">अध्याय: नियंत्रण एवं समन्वय</p>
            
            <div class="space-y-5">
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">विद्यार्थी का नाम दर्ज करें</label>
                    <input type="text" id="studentName" class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:ring-4 focus:ring-purple-200 focus:border-purple-600 outline-none transition text-lg" placeholder="जैसे: रोहित कुमार">
                    <p id="nameError" class="text-red-500 text-sm mt-2 hidden flex items-center"><span class="mr-1">⚠</span> कृपया नाम लिखें।</p>
                </div>
                <button onclick="startQuiz()" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 rounded-xl transition duration-200 shadow-lg text-lg tracking-wide">
                    क्विज़ शुरू करें
                </button>
            </div>
        </div>
    </div>

    <!-- Timer Display -->
    <div id="timerDisplay" class="sticky-timer hidden bg-white px-8 py-3 rounded-b-xl border-t-4 border-purple-600 text-2xl font-bold text-purple-800 min-w-[220px] text-center shadow-lg">
        25:00
    </div>

    <!-- Main Quiz Container -->
    <div id="quizContainer" class="hidden container mx-auto px-4 pt-28 max-w-4xl">
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
            <!-- Header -->
            <div class="bg-purple-700 p-8 text-white text-center">
                <h1 class="text-3xl md:text-4xl font-bold mb-3">नियंत्रण एवं समन्वय</h1>
                <p class="opacity-90 text-xl font-light">कक्षा 10 | कुल प्रश्न: 40</p>
            </div>

            <!-- Score Section (Hidden initially) -->
            <div id="resultHeader" class="hidden bg-green-50 p-8 text-center border-b border-green-200">
                <h3 class="text-4xl font-bold text-green-800 mb-2" id="scoreText"></h3>
                <p class="text-green-700 font-medium text-lg">परिणाम फ़ाइल (CSV) डाउनलोड हो गई है। नीचे सही उत्तर देखें।</p>
            </div>

            <!-- Questions Form -->
            <form id="quizForm" class="p-6 md:p-12 space-y-12">
                <!-- Questions will be injected here via JS -->
            </form>

            <!-- Submit Button Footer -->
            <div class="p-10 bg-gray-50 border-t border-gray-200 text-center">
                <button id="submitBtn" onclick="submitQuiz(event)" class="bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-20 rounded-full text-xl shadow-xl transform transition hover:-translate-y-1 hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">
                    उत्तर जमा करें (Submit)
                </button>
            </div>
        </div>
    </div>

    <script>
        // Questions Data (A:10, B:10, C:10, D:10)
        const questions = [
            // Option A Correct (10 Questions)
            { q: "1. मानव शरीर की सबसे लंबी कोशिका कौन सी है?", options: { a: "तंत्रिका कोशिका (न्यूरॉन)", b: "पेशी कोशिका", c: "हड्डी की कोशिका", d: "रक्त कोशिका" }, correct: "a" },
            { q: "2. पराग नलिका का बीजांड की ओर वृद्धि करना किसका उदाहरण है?", options: { a: "रसायनानुवर्तन (Chemotropism)", b: "प्रकाशानुवर्तन", c: "गुरुत्वानुवर्तन", d: "जलानुवर्तन" }, correct: "a" },
            { q: "3. 'मास्टर ग्रंथि' (Master Gland) किसे कहा जाता है?", options: { a: "पीयूष ग्रंथि (Pituitary)", b: "थायराइड ग्रंथि", c: "एड्रिनल ग्रंथि", d: "अग्न्याशय" }, correct: "a" },
            { q: "4. तंत्रिका तंत्र की संरचनात्मक और क्रियात्मक इकाई क्या है?", options: { a: "न्यूरॉन", b: "नेफ्रॉन", c: "मस्तिष्क", d: "मेरुरज्जु" }, correct: "a" },
            { q: "5. निम्नलिखित में से कौन सा पादप हार्मोन कोशिका विभाजन (Cell Division) को प्रेरित करता है?", options: { a: "साइटोकाइनिन", b: "ऑक्सिन", c: "एब्सिसिक अम्ल", d: "जिब्बेरेलिन" }, correct: "a" },
            { q: "6. अनैच्छिक क्रियाएँ जैसे रक्तदाब, लार आना और उल्टी करना मस्तिष्क के किस भाग द्वारा नियंत्रित होती हैं?", options: { a: "मेड्यूला (Medulla)", b: "सेरेब्रम", c: "सेरेबेलम", d: "हाइपोथैलेमस" }, correct: "a" },
            { q: "7. नर जनन हार्मोन (Male Sex Hormone) कौन सा है?", options: { a: "टेस्टोस्टेरोन", b: "एस्ट्रोजन", c: "इन्सुलिन", d: "थायरोक्सिन" }, correct: "a" },
            { q: "8. कौन सी ग्रंथि 'आपातकालीन हार्मोन' (Adrenaline) स्रावित करती है?", options: { a: "एड्रिनल (अधिवृक्क)", b: "थायराइड", c: "पीयूष", d: "अग्न्याशय" }, correct: "a" },
            { q: "9. दो तंत्रिका कोशिकाओं के मध्य खाली स्थान को क्या कहते हैं?", options: { a: "सिनेप्स (Synapse)", b: "डेंड्राइट", c: "एक्सॉन", d: "आवेग" }, correct: "a" },
            { q: "10. मेरुरज्जु (Spinal Cord) की रक्षा कौन करता है?", options: { a: "कशेरुक दंड (Vertebral Column)", b: "कपाल", c: "पसलियाँ", d: "स्टर्नम" }, correct: "a" },

            // Option B Correct (10 Questions)
            { q: "11. शरीर का संतुलन और पोस्चर (Posture) बनाये रखने का कार्य मस्तिष्क का कौन सा भाग करता है?", options: { a: "प्रमस्तिष्क (Cerebrum)", b: "अनुमस्तिष्क (Cerebellum)", c: "मेड्यूला", d: "पोंस" }, correct: "b" },
            { q: "12. घेंघा रोग (Goitre) किसकी कमी से होता है?", options: { a: "कैल्शियम", b: "आयोडीन", c: "इन्सुलिन", d: "प्रोटीन" }, correct: "b" },
            { q: "13. जड़ों का नीचे की ओर (जमीन की तरफ) वृद्धि करना किसका उदाहरण है?", options: { a: "प्रकाशानुवर्तन", b: "गुरुत्वानुवर्तन (Geotropism)", c: "जलानुवर्तन", d: "रसायनानुवर्तन" }, correct: "b" },
            { q: "14. मस्तिष्क का सोचने वाला मुख्य भाग कौन सा है?", options: { a: "मध्य मस्तिष्क", b: "अग्र मस्तिष्क (Forebrain)", c: "पश्च मस्तिष्क", d: "मेरुरज्जु" }, correct: "b" },
            { q: "15. निम्नलिखित में से कौन सा हार्मोन पादप वृद्धि को 'रोकता' (inhibits) है?", options: { a: "ऑक्सिन", b: "एब्सिसिक अम्ल (Abscisic Acid)", c: "जिब्बेरेलिन", d: "साइटोकाइनिन" }, correct: "b" },
            { q: "16. मादा जनन हार्मोन कौन सा है?", options: { a: "टेस्टोस्टेरोन", b: "एस्ट्रोजन", c: "एड्रिनलीन", d: "थायरोक्सिन" }, correct: "b" },
            { q: "17. प्रतिवर्ती चाप (Reflex Arc) कहाँ बनते हैं?", options: { a: "मस्तिष्क में", b: "मेरुरज्जु (Spinal Cord) में", c: "हृदय में", d: "मांसपेशियों में" }, correct: "b" },
            { q: "18. ऑक्सिन हार्मोन पौधे के किस भाग में संश्लेषित होता है?", options: { a: "जड़ में", b: "प्ररोह के अग्रभाग (Shoot tip) में", c: "पत्तियों में", d: "फलों में" }, correct: "b" },
            { q: "19. फल पकाने वाला हार्मोन कौन सा है?", options: { a: "ऑक्सिन", b: "एथिलीन (Ethylene)", c: "साइटोकाइनिन", d: "जिब्बेरेलिन" }, correct: "b" },
            { q: "20. छुई-मुई (Mimosa) के पौधे की पत्तियाँ छूने पर मुरझा जाती हैं, यह कैसी गति है?", options: { a: "अनुवर्तन गति", b: "कंपानुकुंचन (Nastic movement)", c: "प्रकाशानुवर्तन", d: "रसायनानुवर्तन" }, correct: "b" },

            // Option C Correct (10 Questions)
            { q: "21. रक्त में शर्करा (Sugar) के स्तर को नियंत्रित करने वाला हार्मोन कौन सा है?", options: { a: "एड्रिनलीन", b: "थायरोक्सिन", c: "इन्सुलिन", d: "टेस्टोस्टेरोन" }, correct: "c" },
            { q: "22. कौन सी ग्रंथि अंतःस्रावी (Endocrine) और बहिःस्रावी (Exocrine) दोनों है?", options: { a: "यकृत", b: "थायराइड", c: "अग्न्याशय (Pancreas)", d: "पीयूष" }, correct: "c" },
            { q: "23. तने की वृद्धि में सहायक हार्मोन कौन सा है?", options: { a: "एब्सिसिक अम्ल", b: "इन्सुलिन", c: "जिब्बेरेलिन", d: "एथिलीन" }, correct: "c" },
            { q: "24. मस्तिष्क किस बॉक्स में सुरक्षित रहता है?", options: { a: "पेरिकार्डियम", b: "वक्ष गुहा", c: "क्रेनियम (कपाल)", d: "वर्टीब्रल कॉलम" }, correct: "c" },
            { q: "25. सूंघने, देखने और सुनने के केंद्र मस्तिष्क के किस भाग में होते हैं?", options: { a: "पश्च मस्तिष्क", b: "मध्य मस्तिष्क", c: "अग्र मस्तिष्क", d: "मेरुरज्जु" }, correct: "c" },
            { q: "26. थायरोक्सिन हार्मोन के निर्माण के लिए क्या आवश्यक है?", options: { a: "सोडियम", b: "आयरन", c: "आयोडीन", d: "कैल्शियम" }, correct: "c" },
            { q: "27. हमारे शरीर में ग्राही (Receptors) का क्या कार्य है?", options: { a: "हार्मोन स्रावित करना", b: "मांसपेशियों को गति देना", c: "वातावरण से सूचना एकत्र करना", d: "रक्त पंप करना" }, correct: "c" },
            { q: "28. 'लड़ो या उड़ो' (Fight or Flight) हार्मोन किसे कहते हैं?", options: { a: "इन्सुलिन", b: "थायरोक्सिन", c: "एड्रिनलीन", d: "एस्ट्रोजन" }, correct: "c" },
            { q: "29. न्यूरॉन का वह भाग जहाँ सूचनाएँ प्राप्त की जाती हैं:", options: { a: "एक्सॉन", b: "तंत्रिका का अंतिम सिरा", c: "डेंड्राइट (Dendrite)", d: "कोशिका काय" }, correct: "c" },
            { q: "30. बौनापन (Dwarfism) किस हार्मोन की कमी से होता है?", options: { a: "थायरोक्सिन", b: "इन्सुलिन", c: "वृद्धि हार्मोन (Growth Hormone)", d: "एड्रिनलीन" }, correct: "c" },

            // Option D Correct (10 Questions)
            { q: "31. प्रकाश की ओर प्ररोह (Shoot) की गति क्या कहलाती है?", options: { a: "गुरुत्वानुवर्तन", b: "जलानुवर्तन", c: "रसायनानुवर्तन", d: "प्रकाशानुवर्तन (Phototropism)" }, correct: "d" },
            { q: "32. तंत्रिका आवेग (Nerve Impulse) की प्रकृति कैसी होती है?", options: { a: "चुंबकीय", b: "यांत्रिक", c: "केवल रासायनिक", d: "विद्युत-रासायनिक (Electrochemical)" }, correct: "d" },
            { q: "33. निम्नलिखित में से कौन सी ग्रंथि गुर्दे (Kidney) के ऊपर स्थित होती है?", options: { a: "पीयूष ग्रंथि", b: "थायराइड ग्रंथि", c: "अग्न्याशय", d: "एड्रिनल ग्रंथि (Adrenal)" }, correct: "d" },
            { q: "34. मधुमेह (Diabetes) रोग किस हार्मोन की कमी से होता है?", options: { a: "थायरोक्सिन", b: "एस्ट्रोजन", c: "एड्रिनलीन", d: "इन्सुलिन" }, correct: "d" },
            { q: "35. प्रतिवर्ती क्रिया (Reflex Action) का उदाहरण कौन सा है?", options: { a: "सोचना", b: "हृदय का धड़कना", c: "भोजन चबाना", d: "गर्म वस्तु छूने पर हाथ हटाना" }, correct: "d" },
            { q: "36. पादपों में सूचनाओं के संचरण के लिए किस माध्यम का उपयोग होता है?", options: { a: "तंत्रिका तंत्र", b: "रक्त", c: "पेशियाँ", d: "वैद्युत-रसायन (Electro-chemical)" }, correct: "d" },
            { q: "37. मस्तिष्क का कौन सा भाग श्वास (Respiration) को नियंत्रित करता है?", options: { a: "सेरेब्रम", b: "सेरेबेलम", c: "हाइपोथैलेमस", d: "मेड्यूला ओब्लोंगाटा" }, correct: "d" },
            { q: "38. स्वाद का पता लगाने वाले ग्राही को क्या कहते हैं?", options: { a: "घ्राण ग्राही (Olfactory)", b: "प्रकाश ग्राही", c: "ध्वनि ग्राही", d: "रससंवेदी ग्राही (Gustatory)" }, correct: "d" },
            { q: "39. गंध (Smell) का पता लगाने वाले ग्राही को क्या कहते हैं?", options: { a: "रससंवेदी ग्राही", b: "स्पर्श ग्राही", c: "श्रवण ग्राही", d: "घ्राण ग्राही (Olfactory)" }, correct: "d" },
            { q: "40. पत्तियों का मुरझाना किस हार्मोन के प्रभाव के कारण होता है?", options: { a: "ऑक्सिन", b: "जिब्बेरेलिन", c: "साइटोकाइनिन", d: "एब्सिसिक अम्ल" }, correct: "d" }
        ];

        // State variables
        let timeLeft = 25 * 60; // 25 minutes
        let timerInterval;
        let isSubmitted = false;
        let studentName = "";

        // Elements
        const quizForm = document.getElementById('quizForm');
        const timerDisplay = document.getElementById('timerDisplay');
        const submitBtn = document.getElementById('submitBtn');

        // Functions
        function startQuiz() {
            const nameInput = document.getElementById('studentName');
            if (nameInput.value.trim() === "") {
                document.getElementById('nameError').classList.remove('hidden');
                return;
            }
            studentName = nameInput.value.trim();
            document.getElementById('nameModal').classList.add('hidden');
            document.getElementById('quizContainer').classList.remove('hidden');
            timerDisplay.classList.remove('hidden');
            
            renderQuestions();
            startTimer();
        }

        function renderQuestions() {
            let html = "";
            questions.forEach((q, index) => {
                html += `
                <div class="border-2 border-gray-100 rounded-xl p-6 hover:shadow-lg transition-all bg-white" id="qbox-${index}">
                    <p class="font-bold text-gray-800 text-xl mb-4 leading-relaxed"><span class="text-purple-600 mr-2">${index + 1}.</span> ${q.q}</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${Object.keys(q.options).map(key => `
                            <label class="flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-purple-50 transition-colors duration-200 group" id="label-${index}-${key}">
                                <div class="relative flex items-center">
                                    <input type="radio" name="q${index}" value="${key}" class="w-5 h-5 text-purple-600 focus:ring-purple-500 border-gray-300">
                                </div>
                                <span class="ml-3 text-gray-700 font-medium text-lg group-hover:text-purple-700">${key.toUpperCase()}) ${q.options[key]}</span>
                            </label>
                        `).join('')}
                    </div>
                    <div id="feedback-${index}" class="hidden"></div>
                </div>
                `;
            });
            quizForm.innerHTML = html;
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(null);
                    return;
                }
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerDisplay.innerText = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                
                if (timeLeft < 300) { // Red warning last 5 mins
                    timerDisplay.classList.add('text-red-600', 'bg-red-50', 'border-red-500');
                    timerDisplay.classList.remove('text-purple-800', 'border-purple-600');
                }
            }, 1000);
        }

        function submitQuiz(e) {
            if (e) e.preventDefault();
            if (isSubmitted) return;
            isSubmitted = true;
            clearInterval(timerInterval);

            // Disable button
            submitBtn.disabled = true;
            submitBtn.innerText = "जमा हो गया (Submitted)";
            submitBtn.classList.add('opacity-75', 'cursor-not-allowed');

            let score = 0;
            const formData = new FormData(quizForm);

            questions.forEach((q, index) => {
                const selected = formData.get(`q${index}`);
                const feedbackDiv = document.getElementById(`feedback-${index}`);
                
                // Disable inputs
                const inputs = document.getElementsByName(`q${index}`);
                inputs.forEach(input => input.disabled = true);

                let isCorrect = false;
                if (selected === q.correct) {
                    score++;
                    isCorrect = true;
                }

                // Show feedback text
                feedbackDiv.classList.remove('hidden');
                feedbackDiv.classList.add('correct-answer-box');
                
                // Correct answer text
                feedbackDiv.innerHTML = `<span class="correct-text">सही उत्तर: <span class="uppercase ml-2">${q.correct}</span>) ${q.options[q.correct]}</span>`;

                // Highlight Logic
                if (selected) {
                    const selectedLabel = document.getElementById(`label-${index}-${selected}`);
                    if (isCorrect) {
                        selectedLabel.classList.add('user-correct');
                    } else {
                        selectedLabel.classList.add('user-wrong');
                    }
                }
                
                // Always show green on correct answer if user missed it or wrong
                if (!isCorrect) {
                     const correctLabel = document.getElementById(`label-${index}-${q.correct}`);
                     correctLabel.classList.add('user-correct');
                }
            });

            // Show Result Header
            const resultHeader = document.getElementById('resultHeader');
            resultHeader.classList.remove('hidden');
            document.getElementById('scoreText').innerText = `${studentName}, आपका स्कोर: ${score} / 40`;
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // CSV Download
            generateCSV(studentName, score);
        }

        function generateCSV(name, score) {
            const date = new Date().toLocaleString('hi-IN');
            // Add BOM for Excel to read Hindi correctly
            const csvContent = `\uFEFFStudent Name,Score,Total Questions,Date\n"${name}",${score},40,"${date}"`;
            
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement("a");
            link.setAttribute("href", url);
            link.setAttribute("download", "result.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Prevent Right Click
        document.addEventListener('contextmenu', event => event.preventDefault());

        // Prevent typical copy shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && (e.key === 'c' || e.key === 'u' || e.key === 'p')) {
                e.preventDefault();
            }
        });

    </script>
</body>
</html>
